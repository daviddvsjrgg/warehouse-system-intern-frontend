(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2916:function(e,r,t){Promise.resolve().then(t.bind(t,6117))},5752:function(e,r,t){"use strict";t.d(r,{TX:function(){return l},g7:function(){return o},pH:function(){return n}});var a=t(8476),s=t(5037);let n=async e=>{try{let r=await a.Z.post("".concat("/login"),e);if(r.data.success){let e=r.data.data.token;return(0,s.setCookie)(null,"token",e,{path:"/"}),e}throw Error(r.data.message)}catch(t){var r;let e=null===(r=t.response)||void 0===r?void 0:r.data;throw Error((null==e?void 0:e.message)||"Email atau password salah!")}},l=async()=>{try{let e=(0,s.parseCookies)().token;e&&await a.Z.post("".concat("/logout"),{},{headers:{Authorization:"Bearer ".concat(e)}}),localStorage.setItem("onUrl",""),console.log("User logged out successfully."),(0,s.destroyCookie)(null,"token",{path:"/"})}catch(e){console.error("Logout error:",e)}},o=async e=>{try{return(await a.Z.get("".concat("/user"),{headers:{Authorization:"Bearer ".concat(e)}})).data.id}catch(e){throw Error("Failed to fetch user ID from token"+e)}}},4898:function(e,r,t){"use strict";t.d(r,{P:function(){return l},U:function(){return o}});var a=t(5037),s=t(8476);let n=null,l=async()=>{if(n)return n;try{let e=(0,a.parseCookies)().token;return n=(await s.Z.get("".concat("/user"),{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(e){return console.error("Error fetching user:",e),null}},o=()=>{n=null}},6117:function(e,r,t){"use strict";t.r(r);var a=t(7437);t(2265);var s=t(4114),n=t(1293);r.default=()=>(0,a.jsxs)("div",{className:"flex min-h-screen dark:bg-gray-900",children:[(0,a.jsx)(n.default,{}),(0,a.jsxs)("div",{className:"lg:ml-64 flex-1 flex flex-col min-h-screen",children:[(0,a.jsx)(s.default,{}),(0,a.jsx)("main",{className:"p-8 flex-1",children:(0,a.jsx)("div",{className:"card shadow-xl bg-white dark:bg-gray-800",children:(0,a.jsxs)("div",{className:"card-body overflow-x-auto",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold dark:text-gray-200",children:"Selamat Datang di Warehouse System (Test FTP)"}),(0,a.jsx)("p",{className:"mt-2 divider -mb-1 dark:text-gray-400",children:"Intern Self Deployed | Description:"}),(0,a.jsxs)("p",{className:"mt-2 dark:text-gray-300",children:["Terakhir Deploy: ",(0,a.jsx)("span",{className:"font-medium",children:"Kamis, 7 November 2024"})]}),(0,a.jsxs)("p",{className:"mt-2 dark:text-gray-300",children:["Frontend:"," ",(0,a.jsx)("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://anker.highking.cloud",target:"_blank",rel:"noopener noreferrer",children:"anker.highking.cloud"})]}),(0,a.jsxs)("p",{className:"dark:text-gray-300",children:["Backend:"," ",(0,a.jsx)("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://api-backend-ws-david-intern.vercel.app",target:"_blank",rel:"noopener noreferrer",children:"api-backend-ws-david-intern.vercel.app"})]}),(0,a.jsxs)("p",{className:"dark:text-gray-300",children:["API Doc:"," ",(0,a.jsx)("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://documenter.getpostman.com/view/10569515/2sAY4xA2Ec",target:"_blank",rel:"noopener noreferrer",children:"dokumentasi"})]})]})})})]})]})},4114:function(e,r,t){"use strict";var a=t(7437),s=t(3145),n=t(7648),l=t(2265),o=t(9376),i=t(5752),d=t(4898),c=t(2552);let u=()=>(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-opacity-50 bg-gray-100 z-50 dark:bg-gray-700/30",children:(0,a.jsx)("span",{className:"loading loading-ring loading-md"})});r.default=()=>{var e,r;let t=(0,o.useRouter)(),{user:h,loading:m}=(0,c.S)(),g=(0,o.usePathname)(),[x,f]=(0,l.useState)(!1),p=async()=>{try{await (0,i.TX)(),(0,d.U)(),t.push("/login")}catch(e){console.error("Logout error:",e)}},b=(e,r)=>(0,a.jsx)("li",{children:(0,a.jsx)(n.default,{href:e,"aria-label":r,className:"block px-3 py-2 rounded-md ".concat(g===e?"bg-gray-300 text-gray-900 dark:bg-gray-700 dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:r})},e),v=null==h?void 0:null===(e=h.roles)||void 0===e?void 0:e.some(e=>"master-item"===e.name),k=null==h?void 0:null===(r=h.roles)||void 0===r?void 0:r.some(e=>"office"===e.name);return(0,a.jsxs)("div",{className:"dark:bg-gray-900 p-2 flex justify-between items-center",children:[m&&(0,a.jsx)(u,{}),(0,a.jsxs)("div",{className:"navbar-start lg:hidden",children:[(0,a.jsx)("button",{onClick:()=>f(!x),"aria-label":"Menu",className:"btn btn-ghost",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),x&&(0,a.jsxs)("ul",{className:"menu dropdown-content absolute left-0 mt-12 w-full bg-white dark:bg-gray-800 shadow-lg z-10",children:[v&&b("/master-item","Master Item"),v&&b("/scanned-item","Scan SN"),k&&b("/report","Report")]})]}),(0,a.jsxs)("p",{className:"text-md font-semibold hidden lg:block text-gray-900 dark:text-gray-100",children:["Hai, ",null==h?void 0:h.name]}),(0,a.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,a.jsx)("div",{tabIndex:0,role:"button","aria-label":"User Menu",className:"btn btn-ghost btn-circle avatar",children:(0,a.jsx)("div",{className:"w-10 rounded-full",children:(0,a.jsx)(s.default,{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp",alt:"User Avatar",width:100,height:100,priority:!0})})}),(0,a.jsx)("ul",{className:"menu dropdown-content bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:p,className:"w-full text-left",children:"Logout"})})})]})]})}},1293:function(e,r,t){"use strict";var a=t(7437);t(2265);var s=t(7648),n=t(9376),l=t(2552);r.default=()=>{var e,r;let t=(0,n.usePathname)(),{user:o}=(0,l.S)(),i=(e,r)=>(0,a.jsx)("li",{children:(0,a.jsx)(s.default,{href:e,"aria-label":r,className:"block p-2 rounded-md ".concat(t===e?"bg-gray-300 dark:bg-gray-700 font-bold":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:r})},e),d=null==o?void 0:null===(e=o.roles)||void 0===e?void 0:e.some(e=>"master-item"===e.name),c=null==o?void 0:null===(r=o.roles)||void 0===r?void 0:r.some(e=>"office"===e.name);return(0,a.jsx)("div",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg hidden lg:block",children:(0,a.jsxs)("aside",{className:"p-4",children:[(0,a.jsx)(s.default,{href:"/",className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Warehouse System"}),(0,a.jsxs)("ul",{className:"mt-6 space-y-4",children:[d&&i("/master-item","Master Item"),d&&i("/scanned-item","Scan SN"),c&&i("/report","Report")]})]})})}},2552:function(e,r,t){"use strict";t.d(r,{S:function(){return i},UserProvider:function(){return o}});var a=t(7437),s=t(2265),n=t(4898);let l=(0,s.createContext)(void 0),o=e=>{let{children:r}=e,[t,o]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),c=async()=>{d(!0),o(await (0,n.P)()),d(!1)};(0,s.useEffect)(()=>{c()},[]);let u=async()=>{await c()};return(0,a.jsx)(l.Provider,{value:{user:t,loading:i,refetchUser:u},children:r})},i=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},8476:function(e,r,t){"use strict";let a=t(3464).Z.create({baseURL:"https://api-backend-ws-david-intern.vercel.app/api/api",headers:{"Content-Type":"application/json"}});r.Z=a}},function(e){e.O(0,[207,718,971,117,744],function(){return e(e.s=2916)}),_N_E=e.O()}]);