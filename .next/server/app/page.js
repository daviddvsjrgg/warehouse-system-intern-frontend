(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(4148),r(8980),r(996);var a=r(170),s=r(5002),n=r(3876),o=r.n(n),i=r(6299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4148)),"/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8980)),"/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/page.tsx"],u="/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1724:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},7748:(e,t,r)=>{Promise.resolve().then(r.bind(r,7243))},9859:(e,t,r)=>{Promise.resolve().then(r.bind(r,9205))},6614:(e,t,r)=>{"use strict";r.d(t,{TX:()=>o,g7:()=>i,pH:()=>n});var a=r(8727),s=r(1664);let n=async e=>{try{let t=await a.Z.post("/login",e);if(t.data.success){let e=t.data.data.token;return(0,s.setCookie)(null,"token",e,{path:"/"}),e}throw Error(t.data.message)}catch(t){let e=t.response?.data;throw Error(e?.message||"Email atau password salah!")}},o=async()=>{try{let e=(0,s.parseCookies)().token;e&&await a.Z.post("/logout",{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.setItem("onUrl",""),console.log("User logged out successfully."),(0,s.destroyCookie)(null,"token",{path:"/"})}catch(e){console.error("Logout error:",e)}},i=async e=>{try{return(await a.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data.id}catch(e){throw Error("Failed to fetch user ID from token"+e)}}},9483:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,U:()=>i});var a=r(1664),s=r(8727);let n=null,o=async()=>{if(n)return n;try{let e=(0,a.parseCookies)().token;return n=(await s.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){return console.error("Error fetching user:",e),null}},i=()=>{n=null}},9205:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(7247);r(8964);var s=r(2569),n=r(9432);let o=()=>(0,a.jsxs)("div",{className:"flex min-h-screen dark:bg-gray-900",children:[a.jsx(n.default,{}),(0,a.jsxs)("div",{className:"lg:ml-64 flex-1 flex flex-col min-h-screen",children:[a.jsx(s.default,{}),a.jsx("main",{className:"p-8 flex-1",children:a.jsx("div",{className:"card shadow-xl bg-white dark:bg-gray-800",children:(0,a.jsxs)("div",{className:"card-body overflow-x-auto",children:[a.jsx("h1",{className:"text-2xl font-bold dark:text-gray-200",children:"Selamat Datang di Warehouse System (Test FTP)"}),a.jsx("p",{className:"mt-2 divider -mb-1 dark:text-gray-400",children:"Intern Self Deployed | Description:"}),(0,a.jsxs)("p",{className:"mt-2 dark:text-gray-300",children:["Terakhir Deploy: ",a.jsx("span",{className:"font-medium",children:"Kamis, 7 November 2024"})]}),(0,a.jsxs)("p",{className:"mt-2 dark:text-gray-300",children:["Frontend:"," ",a.jsx("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://anker.highking.cloud",target:"_blank",rel:"noopener noreferrer",children:"anker.highking.cloud"})]}),(0,a.jsxs)("p",{className:"dark:text-gray-300",children:["Backend:"," ",a.jsx("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://api-backend-ws-david-intern.vercel.app",target:"_blank",rel:"noopener noreferrer",children:"api-backend-ws-david-intern.vercel.app"})]}),(0,a.jsxs)("p",{className:"dark:text-gray-300",children:["API Doc:"," ",a.jsx("a",{className:"text-blue-500 dark:text-blue-400 underline",href:"https://documenter.getpostman.com/view/10569515/2sAY4xA2Ec",target:"_blank",rel:"noopener noreferrer",children:"dokumentasi"})]})]})})})]})]})},2569:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var a=r(7247),s=r(4597),n=r(9906),o=r(8964),i=r(4178),l=r(6614),d=r(9483),c=r(7243);let u=()=>a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-opacity-50 bg-gray-100 z-50 dark:bg-gray-700/30",children:a.jsx("span",{className:"loading loading-ring loading-md"})}),m=()=>{let e=(0,i.useRouter)(),{user:t,loading:r}=(0,c.S)(),m=(0,i.usePathname)(),[h,x]=(0,o.useState)(!1),p=async()=>{try{await (0,l.TX)(),(0,d.U)(),e.push("/login")}catch(e){console.error("Logout error:",e)}},g=(e,t)=>a.jsx("li",{children:a.jsx(n.default,{href:e,"aria-label":t,className:`block px-3 py-2 rounded-md ${m===e?"bg-gray-300 text-gray-900 dark:bg-gray-700 dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:t})},e),y=t?.roles?.some(e=>"master-item"===e.name),b=t?.roles?.some(e=>"office"===e.name);return(0,a.jsxs)("div",{className:"dark:bg-gray-900 p-2 flex justify-between items-center",children:[r&&a.jsx(u,{}),(0,a.jsxs)("div",{className:"navbar-start lg:hidden",children:[a.jsx("button",{onClick:()=>x(!h),"aria-label":"Menu",className:"btn btn-ghost",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),h&&(0,a.jsxs)("ul",{className:"menu dropdown-content absolute left-0 mt-12 w-full bg-white dark:bg-gray-800 shadow-lg z-10",children:[y&&g("/master-item","Master Item"),y&&g("/scanned-item","Scan SN"),b&&g("/report","Report")]})]}),(0,a.jsxs)("p",{className:"text-md font-semibold hidden lg:block text-gray-900 dark:text-gray-100",children:["Hai, ",t?.name]}),(0,a.jsxs)("div",{className:"dropdown dropdown-end",children:[a.jsx("div",{tabIndex:0,role:"button","aria-label":"User Menu",className:"btn btn-ghost btn-circle avatar",children:a.jsx("div",{className:"w-10 rounded-full",children:a.jsx(s.default,{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp",alt:"User Avatar",width:100,height:100,priority:!0})})}),a.jsx("ul",{className:"menu dropdown-content bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:a.jsx("li",{children:a.jsx("button",{onClick:p,className:"w-full text-left",children:"Logout"})})})]})]})}},9432:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(7247);r(8964);var s=r(9906),n=r(4178),o=r(7243);let i=()=>{let e=(0,n.usePathname)(),{user:t}=(0,o.S)(),r=(t,r)=>a.jsx("li",{children:a.jsx(s.default,{href:t,"aria-label":r,className:`block p-2 rounded-md ${e===t?"bg-gray-300 dark:bg-gray-700 font-bold":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:r})},t),i=t?.roles?.some(e=>"master-item"===e.name),l=t?.roles?.some(e=>"office"===e.name);return a.jsx("div",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg hidden lg:block",children:(0,a.jsxs)("aside",{className:"p-4",children:[a.jsx(s.default,{href:"/",className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Warehouse System"}),(0,a.jsxs)("ul",{className:"mt-6 space-y-4",children:[i&&r("/master-item","Master Item"),i&&r("/scanned-item","Scan SN"),l&&r("/report","Report")]})]})})}},7243:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,UserProvider:()=>i});var a=r(7247),s=r(8964),n=r(9483);let o=(0,s.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),d=async()=>{l(!0),r(await (0,n.P)()),l(!1)};(0,s.useEffect)(()=>{d()},[]);let c=async()=>{await d()};return a.jsx(o.Provider,{value:{user:t,loading:i,refetchUser:c},children:e})},l=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},8727:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=r(863).Z.create({baseURL:"https://api-backend-ws-david-intern.vercel.app/api/api",headers:{"Content-Type":"application/json"}})},8980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var a=r(2051),s=r(7818),n=r.n(s),o=r(494),i=r.n(o);r(5023);var l=r(5347);let d=(0,l.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#UserProvider`);(0,l.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#useUserContext`);let c={title:"Warehouse System",description:"David Intern"};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${n().variable} ${i().variable} antialiased bg-blue-50/40`,children:a.jsx(d,{children:e})})})}},4148:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(5347).createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/page.tsx#default`)},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(4564);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[379,32,511,720],()=>r(440));module.exports=a})();