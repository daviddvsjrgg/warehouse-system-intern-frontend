(()=>{var e={};e.id=665,e.ids=[665],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},7342:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d}),r(9779),r(996),r(8980);var s=r(170),a=r(5002),i=r(3876),o=r.n(i),n=r(6299),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9779)),"/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/(auth)/login/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8980)),"/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/(auth)/login/page.tsx"],c="/(auth)/login/page",h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1724:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},7748:(e,t,r)=>{Promise.resolve().then(r.bind(r,7243))},1698:(e,t,r)=>{Promise.resolve().then(r.bind(r,1893))},6614:(e,t,r)=>{"use strict";r.d(t,{TX:()=>o,g7:()=>n,pH:()=>i});var s=r(8727),a=r(1664);let i=async e=>{try{let t=await s.Z.post("/login",e);if(t.data.success){let e=t.data.data.token;return(0,a.setCookie)(null,"token",e,{path:"/"}),e}throw Error(t.data.message)}catch(t){let e=t.response?.data;throw Error(e?.message||"Email atau password salah!")}},o=async()=>{try{let e=(0,a.parseCookies)().token;e&&await s.Z.post("/logout",{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.setItem("onUrl",""),console.log("User logged out successfully."),(0,a.destroyCookie)(null,"token",{path:"/"})}catch(e){console.error("Logout error:",e)}},n=async e=>{try{return(await s.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data.id}catch(e){throw Error("Failed to fetch user ID from token"+e)}}},9483:(e,t,r)=>{"use strict";r.d(t,{P:()=>o,U:()=>n});var s=r(1664),a=r(8727);let i=null,o=async()=>{if(i)return i;try{let e=(0,s.parseCookies)().token;return i=(await a.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){return console.error("Error fetching user:",e),null}},n=()=>{i=null}},1893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(7247),a=r(8964),i=r(4178),o=r(6614),n=r(7243);let l=()=>{let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[c,h]=(0,a.useState)(!1),p=(0,i.useRouter)(),{refetchUser:m}=(0,n.S)(),x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,v=async t=>{if(t.preventDefault(),u(""),h(!0),!e||!r){u("Email and password are required."),h(!1);return}if(!x.test(e)){u("Please enter a valid email address."),h(!1);return}try{let t=await (0,o.pH)({email:e,password:r});m(),t||h(!1),p.push("/")}catch(e){u(e.message||"Login failed"),h(!1)}};return s.jsx("div",{className:"flex justify-center fixed inset-0 items-center bg-blue-50/55",children:s.jsx("div",{className:"card w-96 bg-base-100 shadow-xl mt-20 mb-20",children:(0,s.jsxs)("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Login Warehouse System"}),(0,s.jsxs)("form",{onSubmit:v,children:[(0,s.jsxs)("div",{className:"items-center mt-2",children:[(0,s.jsxs)("label",{htmlFor:"email",className:"input input-bordered flex items-center gap-2 mb-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 opacity-70",children:[s.jsx("path",{d:"M2.5 3A1.5 1.5 0 0 0 1 4.5v.793c.026.009.051.02.076.032L7.674 8.51c.206.1.446.1.652 0l6.598-3.185A.755.755 0 0 1 15 5.293V4.5A1.5 1.5 0 0 0 13.5 3h-11Z"}),s.jsx("path",{d:"M15 6.954 8.978 9.86a2.25 2.25 0 0 1-1.956 0L1 6.954V11.5A1.5 1.5 0 0 0 2.5 13h11a1.5 1.5 0 0 0 1.5-1.5V6.954Z"})]}),s.jsx("input",{id:"email",type:"text",className:"grow",placeholder:"Email",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("label",{htmlFor:"password",className:"input input-bordered flex items-center gap-2 mb-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"w-4 h-4 opacity-70",children:s.jsx("path",{fillRule:"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",clipRule:"evenodd"})}),s.jsx("input",{id:"password",type:"password",placeholder:"Password",className:"grow",value:r,onChange:e=>l(e.target.value)})]})]}),d&&s.jsx("p",{className:"text-red-500 text-sm mt-2 p-1",children:d}),s.jsx("div",{className:"form-control",children:(0,s.jsxs)("label",{className:"label cursor-pointer",children:[s.jsx("span",{className:"label-text",children:"Remember me"}),s.jsx("input",{type:"checkbox",className:"checkbox"})]})}),(0,s.jsxs)("div",{className:"card-actions justify-end",children:[s.jsx("button",{type:"submit",className:"btn text-white bg-gray-800 hover:bg-gray-900 w-full",disabled:c,children:c?"Logging in...":"Login"}),s.jsx("a",{className:"label-text underline cursor-pointer",children:"Forgot Your Password?"})]})]})]})})})}},7243:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,UserProvider:()=>n});var s=r(7247),a=r(8964),i=r(9483);let o=(0,a.createContext)(void 0),n=({children:e})=>{let[t,r]=(0,a.useState)(null),[n,l]=(0,a.useState)(!0),d=async()=>{l(!0),r(await (0,i.P)()),l(!1)};(0,a.useEffect)(()=>{d()},[]);let u=async()=>{await d()};return s.jsx(o.Provider,{value:{user:t,loading:n,refetchUser:u},children:e})},l=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},8727:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=r(863).Z.create({baseURL:"https://api-backend-ws-david-intern.vercel.app/api/api",headers:{"Content-Type":"application/json"}})},9779:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(5347).createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/app/(auth)/login/page.tsx#default`)},8980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>u});var s=r(2051),a=r(7818),i=r.n(a),o=r(494),n=r.n(o);r(5023);var l=r(5347);let d=(0,l.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#UserProvider`);(0,l.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#useUserContext`);let u={title:"Warehouse System",description:"David Intern"};function c({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${i().variable} ${n().variable} antialiased bg-blue-50/40`,children:s.jsx(d,{children:e})})})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4564);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[379,32,511],()=>r(7342));module.exports=s})();