exports.id=689,exports.ids=[689],exports.modules={1724:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3642,23)),Promise.resolve().then(r.t.bind(r,7586,23)),Promise.resolve().then(r.t.bind(r,7838,23)),Promise.resolve().then(r.t.bind(r,8057,23)),Promise.resolve().then(r.t.bind(r,7741,23)),Promise.resolve().then(r.t.bind(r,3118,23))},7748:(e,t,r)=>{Promise.resolve().then(r.bind(r,7243))},6614:(e,t,r)=>{"use strict";r.d(t,{TX:()=>n,g7:()=>i,pH:()=>o});var a=r(8727),s=r(1664);let o=async e=>{try{let t=await a.Z.post("/login",e);if(t.data.success){let e=t.data.data.token;return(0,s.setCookie)(null,"token",e,{path:"/"}),e}throw Error(t.data.message)}catch(t){let e=t.response?.data;throw Error(e?.message||"Email atau password salah!")}},n=async()=>{try{let e=(0,s.parseCookies)().token;e&&await a.Z.post("/logout",{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.setItem("onUrl",""),console.log("User logged out successfully."),(0,s.destroyCookie)(null,"token",{path:"/"})}catch(e){console.error("Logout error:",e)}},i=async e=>{try{return(await a.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data.id}catch(e){throw Error("Failed to fetch user ID from token"+e)}}},4030:(e,t,r)=>{"use strict";r.d(t,{Pj:()=>n,ZZ:()=>d,mj:()=>l,vx:()=>i});var a=r(8727),s=r(6614),o=r(1664);let n=async(e=1,t=5,r="",s,n)=>{let i=(0,o.parseCookies)().token;if(!i)throw Error("No token found");try{let o=[];o.push(`per_page=${t}`),o.push(`page=${e}`),r&&o.push(`exact=${encodeURIComponent(r)}`),s&&o.push(`start_date=${encodeURIComponent(s)}`),n&&o.push(`end_date=${encodeURIComponent(n)}`);let d=await a.Z.get(`/scanned-item?${o.join("&")}`,{headers:{Authorization:`Bearer ${i}`}});if(!d.data.success)throw Error(d.data.message||"Failed to fetch scanned items");return d.data.data.data}catch(e){throw Error(e.message||"Unknown Error")}},i=async e=>{let t=(0,o.parseCookies)().token;if(!t)throw Error("No token found");let r=await (0,s.g7)(t),n={items:e.map(e=>({item_id:e.id,sku:e.sku,invoice_number:e.invoiceNumber,qty:e.qty,user_id:r,barcode_sn:e.barcode_sn}))};try{return(await a.Z.post("/scanned-item",n,{headers:{Authorization:`Bearer ${t}`}})).data}catch(e){throw Error(e.message||"Unknown Error")}},d=async(e,t)=>{let r=(0,o.parseCookies)().token;if(!r)throw Error("No token found");return(await a.Z.put(`/scanned-item/${e}`,{qty:t,_method:"PUT"},{headers:{Authorization:`Bearer ${r}`}})).data},l=async e=>{let t=(0,o.parseCookies)().token;if(!t)throw Error("No token found");return(await a.Z.delete(`/scanned-item/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data}},9483:(e,t,r)=>{"use strict";r.d(t,{P:()=>n,U:()=>i});var a=r(1664),s=r(8727);let o=null,n=async()=>{if(o)return o;try{let e=(0,a.parseCookies)().token;return o=(await s.Z.get("/user",{headers:{Authorization:`Bearer ${e}`}})).data}catch(e){return console.error("Error fetching user:",e),null}},i=()=>{o=null}},2569:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var a=r(7247),s=r(4597),o=r(9906),n=r(8964),i=r(4178),d=r(6614),l=r(9483),c=r(7243);let u=()=>a.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-opacity-50 bg-gray-100 z-50 dark:bg-gray-700/30",children:a.jsx("span",{className:"loading loading-ring loading-md"})}),h=()=>{let e=(0,i.useRouter)(),{user:t,loading:r}=(0,c.S)(),h=(0,i.usePathname)(),[m,g]=(0,n.useState)(!1),p=async()=>{try{await (0,d.TX)(),(0,l.U)(),e.push("/login")}catch(e){console.error("Logout error:",e)}},x=(e,t)=>a.jsx("li",{children:a.jsx(o.default,{href:e,"aria-label":t,className:`block px-3 py-2 rounded-md ${h===e?"bg-gray-300 text-gray-900 dark:bg-gray-700 dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:t})},e),y=t?.roles?.some(e=>"master-item"===e.name),b=t?.roles?.some(e=>"office"===e.name);return(0,a.jsxs)("div",{className:"dark:bg-gray-900 p-2 flex justify-between items-center",children:[r&&a.jsx(u,{}),(0,a.jsxs)("div",{className:"navbar-start lg:hidden",children:[a.jsx("button",{onClick:()=>g(!m),"aria-label":"Menu",className:"btn btn-ghost",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),m&&(0,a.jsxs)("ul",{className:"menu dropdown-content absolute left-0 mt-12 w-full bg-white dark:bg-gray-800 shadow-lg z-10",children:[y&&x("/master-item","Master Item"),y&&x("/scanned-item","Scan SN"),b&&x("/report","Report")]})]}),(0,a.jsxs)("p",{className:"text-md font-semibold hidden lg:block text-gray-900 dark:text-gray-100",children:["Hai, ",t?.name]}),(0,a.jsxs)("div",{className:"dropdown dropdown-end",children:[a.jsx("div",{tabIndex:0,role:"button","aria-label":"User Menu",className:"btn btn-ghost btn-circle avatar",children:a.jsx("div",{className:"w-10 rounded-full",children:a.jsx(s.default,{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp",alt:"User Avatar",width:100,height:100,priority:!0})})}),a.jsx("ul",{className:"menu dropdown-content bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:a.jsx("li",{children:a.jsx("button",{onClick:p,className:"w-full text-left",children:"Logout"})})})]})]})}},9432:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(7247);r(8964);var s=r(9906),o=r(4178),n=r(7243);let i=()=>{let e=(0,o.usePathname)(),{user:t}=(0,n.S)(),r=(t,r)=>a.jsx("li",{children:a.jsx(s.default,{href:t,"aria-label":r,className:`block p-2 rounded-md ${e===t?"bg-gray-300 dark:bg-gray-700 font-bold":"hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:r})},t),i=t?.roles?.some(e=>"master-item"===e.name),d=t?.roles?.some(e=>"office"===e.name);return a.jsx("div",{className:"fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-900 shadow-lg hidden lg:block",children:(0,a.jsxs)("aside",{className:"p-4",children:[a.jsx(s.default,{href:"/",className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Warehouse System"}),(0,a.jsxs)("ul",{className:"mt-6 space-y-4",children:[i&&r("/master-item","Master Item"),i&&r("/scanned-item","Scan SN"),d&&r("/report","Report")]})]})})}},7243:(e,t,r)=>{"use strict";r.d(t,{S:()=>d,UserProvider:()=>i});var a=r(7247),s=r(8964),o=r(9483);let n=(0,s.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),l=async()=>{d(!0),r(await (0,o.P)()),d(!1)};(0,s.useEffect)(()=>{l()},[]);let c=async()=>{await l()};return a.jsx(n.Provider,{value:{user:t,loading:i,refetchUser:c},children:e})},d=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useUserContext must be used within a UserProvider");return e}},3707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(8964);let s=(e,t)=>{let[r,s]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},8727:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=r(863).Z.create({baseURL:"https://api-backend-ws-david-intern.vercel.app/api/api",headers:{"Content-Type":"application/json"}})},8980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var a=r(2051),s=r(7818),o=r.n(s),n=r(494),i=r.n(n);r(5023);var d=r(5347);let l=(0,d.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#UserProvider`);(0,d.createProxy)(String.raw`/home/david-dwiyanto/Documents/Kerja/DBKlik/Warehouse System/warehouse-system-intern-frontend/src/context/userContext.tsx#useUserContext`);let c={title:"Warehouse System",description:"David Intern"};function u({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:`${o().variable} ${i().variable} antialiased bg-blue-50/40`,children:a.jsx(l,{children:e})})})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(4564);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};